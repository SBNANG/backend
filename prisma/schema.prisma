datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Room {
  room_id      Int       @id @default(autoincrement())
  room_number  String    @db.VarChar(5)
  room_price   Float     @db.Float
  room_type_id Int
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
  room_type    Room_type @relation(fields: [room_type_id], references: [room_type_id])
  booking      Booking[]
}

model Room_type {
  room_type_id     Int      @id @default(autoincrement())
  room_type_name   String   @db.VarChar(20)
  room_type_bed    String   @db.VarChar(15)
  room_type_detail String   @db.VarChar(50)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  room             Room[]
}

model Customer {
  customer_id       Int       @id @default(autoincrement())
  customer_prefix   String    @db.VarChar(10)
  customer_name     String    @db.VarChar(10)
  customer_surname  String    @db.VarChar(10)
  customer_email    String    @db.VarChar(30)
  customer_password String    @db.Text
  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt
  payment           Payment[]
  Booking           Booking[]

}

model Authorities {
  authorities_id       Int       @id @default(autoincrement())
  authorities_prefix   String    @db.VarChar(10)
  authorities_name     String    @db.VarChar(10)
  authorities_surname  String    @db.VarChar(10)
  authorities_email    String    @db.VarChar(30)
  authorities_password String    @db.Text
  createdAt            DateTime  @default(now())
  updatedAt            DateTime  @updatedAt
  payment              Payment[]
  Booking              Booking[]
}

model Payment {
  payment_id     Int         @id @default(autoincrement())
  payment_image  String      @db.Text
  customer_id    Int
  authorities_id Int
  createdAt      DateTime    @default(now())
  updatedAt      DateTime    @updatedAt
  booking        Booking[]
  customer       Customer    @relation(fields: [customer_id], references: [customer_id])
  authorities    Authorities @relation(fields: [authorities_id], references: [authorities_id])
}

model Booking_status {
  booking_status_id   Int       @id @default(autoincrement())
  booking_status_name String    @db.VarChar(20)
  createdAt           DateTime  @default(now())
  updatedAt           DateTime  @updatedAt
  booking             Booking[]
}

model Booking {
  booking_id        Int            @id @default(autoincrement())
  booking_start     DateTime       @db.DateTime
  booking_end       DateTime       @db.DateTime
  booking_status_id Int
  room_id           Int
  customer_id       Int
  authorities_id    Int
  payment_id        Int
  createdAt         DateTime       @default(now())
  updatedAt         DateTime       @updatedAt
  booking_status    Booking_status @relation(fields: [booking_status_id], references: [booking_status_id])
  room              Room           @relation(fields: [room_id], references: [room_id])
  customer          Customer       @relation(fields: [customer_id], references: [customer_id])
  authorities       Authorities    @relation(fields: [authorities_id], references: [authorities_id])
  payment           Payment        @relation(fields: [payment_id], references: [payment_id])
  Check_in          Check_in[]
}

model Check_in {
  check_in_id Int         @id @default(autoincrement())
  booking_id  Int
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt
  booking     Booking     @relation(fields: [booking_id], references: [booking_id])
  Check_out   Check_out[]
}

model Check_out {
  check_out_id Int      @id @default(autoincrement())
  check_in_id  Int
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  check_in     Check_in @relation(fields: [check_in_id], references: [check_in_id])
}
